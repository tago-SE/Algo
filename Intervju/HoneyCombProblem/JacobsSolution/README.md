Solved using the A* algorithm.
